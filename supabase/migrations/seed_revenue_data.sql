-- ============================================================================
-- SEED DATA FOR REVENUE METRICS
-- Aligns with subscription story: $800K → $1.16M MRR growth
-- Jan 2025 → Dec 2025
-- ============================================================================

-- TABLE 1: Revenue Metrics (Monthly snapshots)
INSERT INTO public.tb_app_revenue_metrics (
  org_id, snapshot_date,
  total_revenue, revenue_growth_pct, arr, nrr_pct,
  revenue_quality_index, revenue_predictability_pct,
  recurring_revenue, onetime_revenue, recurring_pct
) VALUES
-- Jan 2025
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-01-31',
 820000, NULL, 9600000, 105.2, 78.5, 82.3, 800000, 20000, 97.6),

-- Feb 2025
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-02-28',
 852000, 3.9, 9984000, 106.1, 79.2, 83.1, 830000, 22000, 97.4),

-- Mar 2025
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-03-31',
 888000, 4.2, 10380000, 106.8, 79.8, 83.8, 865000, 23000, 97.4),

-- Apr 2025
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-04-30',
 930000, 4.7, 10860000, 107.2, 80.1, 84.2, 905000, 25000, 97.3),

-- May 2025
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-05-31',
 972000, 4.5, 11340000, 107.8, 80.5, 84.7, 945000, 27000, 97.2),

-- Jun 2025
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-06-30',
 1018000, 4.7, 11856000, 108.1, 80.9, 85.1, 988000, 30000, 97.1),

-- Jul 2025
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-07-31',
 1061000, 4.2, 12336000, 108.5, 81.2, 85.5, 1028000, 33000, 96.9),

-- Aug 2025
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-08-31',
 1106000, 4.2, 12852000, 108.9, 81.6, 85.9, 1071000, 35000, 96.8),

-- Sep 2025
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-09-30',
 1150000, 4.0, 13356000, 109.2, 82.0, 86.3, 1113000, 37000, 96.8),

-- Oct 2025
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-10-31',
 1189000, 3.4, 13800000, 109.5, 82.3, 86.7, 1150000, 39000, 96.7),

-- Nov 2025
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-11-30',
 1199000, 0.8, 13896000, 109.7, 82.5, 87.0, 1158000, 41000, 96.6),

-- Dec 2025
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-12-31',
 1206000, 0.6, 13956000, 109.9, 82.7, 87.2, 1163000, 43000, 96.4);


-- TABLE 2: Revenue by Segment (All 12 months, 4 segments each)
INSERT INTO public.tb_app_revenue_by_segment (
  org_id, month_date, segment_name, revenue, customers, growth_pct
) VALUES
-- Jan 2025
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-01-01', 'Enterprise', 360000, 587, NULL),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-01-01', 'Mid-Market', 240000, 1765, NULL),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-01-01', 'SMB', 160000, 2353, NULL),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-01-01', 'Startup', 60000, 1177, NULL),

-- Feb 2025
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-02-01', 'Enterprise', 374000, 617, 3.9),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-02-01', 'Mid-Market', 249000, 1829, 3.8),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-02-01', 'SMB', 166000, 2439, 3.8),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-02-01', 'Startup', 63000, 1209, 5.0),

-- Mar 2025
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-03-01', 'Enterprise', 390000, 643, 4.3),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-03-01', 'Mid-Market', 260000, 1895, 4.4),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-03-01', 'SMB', 173000, 2527, 4.2),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-03-01', 'Startup', 65000, 1253, 3.2),

-- Apr 2025
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-04-01', 'Enterprise', 407000, 669, 4.4),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-04-01', 'Mid-Market', 272000, 1965, 4.6),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-04-01', 'SMB', 181000, 2620, 4.6),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-04-01', 'Startup', 70000, 1304, 7.7),

-- May 2025
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-05-01', 'Enterprise', 426000, 700, 4.7),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-05-01', 'Mid-Market', 284000, 2038, 4.4),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-05-01', 'SMB', 189000, 2717, 4.4),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-05-01', 'Startup', 73000, 1357, 4.3),

-- Jun 2025
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-06-01', 'Enterprise', 445000, 728, 4.5),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-06-01', 'Mid-Market', 297000, 2118, 4.6),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-06-01', 'SMB', 198000, 2825, 4.8),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-06-01', 'Startup', 78000, 1411, 6.8),

-- Jul 2025
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-07-01', 'Enterprise', 463000, 749, 4.0),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-07-01', 'Mid-Market', 309000, 2204, 4.0),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-07-01', 'SMB', 206000, 2933, 4.0),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-07-01', 'Startup', 83000, 1461, 6.4),

-- Aug 2025
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-08-01', 'Enterprise', 482000, 775, 4.1),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-08-01', 'Mid-Market', 322000, 2290, 4.2),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-08-01', 'SMB', 215000, 3051, 4.4),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-08-01', 'Startup', 87000, 1513, 4.8),

-- Sep 2025
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-09-01', 'Enterprise', 501000, 803, 3.9),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-09-01', 'Mid-Market', 334000, 2375, 3.7),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-09-01', 'SMB', 223000, 3167, 3.7),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-09-01', 'Startup', 92000, 1573, 5.7),

-- Oct 2025
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-10-01', 'Enterprise', 518000, 829, 3.4),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-10-01', 'Mid-Market', 345000, 2448, 3.3),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-10-01', 'SMB', 230000, 3257, 3.1),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-10-01', 'Startup', 96000, 1631, 4.3),

-- Nov 2025
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-11-01', 'Enterprise', 523000, 850, 1.0),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-11-01', 'Mid-Market', 348000, 2499, 0.9),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-11-01', 'SMB', 232000, 3331, 0.9),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-11-01', 'Startup', 96000, 1667, 0.0),

-- Dec 2025
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-12-01', 'Enterprise', 523000, 864, 0.0),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-12-01', 'Mid-Market', 349000, 2559, 0.3),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-12-01', 'SMB', 234000, 3402, 0.9),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-12-01', 'Startup', 100000, 1704, 4.2);


-- TABLE 3: Revenue Concentration (Monthly snapshots)
INSERT INTO public.tb_app_revenue_concentration (
  org_id, snapshot_date,
  top_10_pct_revenue, top_20_pct_revenue, 
  gini_coefficient, herfindahl_index,
  concentration_risk_score, diversification_index
) VALUES
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-01-31', 410000, 574000, 0.6842, 0.0892, 72.3, 68.2),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-02-28', 426000, 597000, 0.6819, 0.0885, 71.8, 68.7),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-03-31', 444000, 622000, 0.6795, 0.0878, 71.2, 69.3),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-04-30', 465000, 651000, 0.6771, 0.0871, 70.7, 69.9),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-05-31', 486000, 680000, 0.6748, 0.0864, 70.2, 70.4),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-06-30', 509000, 713000, 0.6725, 0.0857, 69.8, 70.9),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-07-31', 530000, 742000, 0.6703, 0.0851, 69.4, 71.3),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-08-31', 553000, 774000, 0.6681, 0.0845, 69.0, 71.7),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-09-30', 575000, 805000, 0.6660, 0.0839, 68.6, 72.1),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-10-31', 595000, 832000, 0.6640, 0.0833, 68.3, 72.4),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-11-30', 600000, 839000, 0.6635, 0.0831, 68.2, 72.5),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2025-12-31', 603000, 844000, 0.6631, 0.0830, 68.1, 72.6);


-- TABLE 4: Revenue Forecast (Next 6 months from Dec 2025)
INSERT INTO public.tb_app_revenue_forecast (
  org_id, forecast_month, 
  forecast_revenue, lower_bound, upper_bound, confidence_interval,
  model_type, accuracy_pct
) VALUES
-- ARIMA Model
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2026-01-01', 1213000, 1189000, 1237000, 95, 'ARIMA', 87.3),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2026-02-01', 1220000, 1184000, 1256000, 95, 'ARIMA', 87.3),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2026-03-01', 1228000, 1179000, 1277000, 95, 'ARIMA', 87.3),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2026-04-01', 1237000, 1174000, 1300000, 95, 'ARIMA', 87.3),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2026-05-01', 1247000, 1169000, 1325000, 95, 'ARIMA', 87.3),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2026-06-01', 1258000, 1164000, 1352000, 95, 'ARIMA', 87.3),

-- Prophet Model
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2026-01-01', 1211000, 1183000, 1239000, 95, 'Prophet', 89.1),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2026-02-01', 1219000, 1178000, 1260000, 95, 'Prophet', 89.1),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2026-03-01', 1228000, 1173000, 1283000, 95, 'Prophet', 89.1),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2026-04-01', 1239000, 1168000, 1310000, 95, 'Prophet', 89.1),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2026-05-01', 1251000, 1163000, 1339000, 95, 'Prophet', 89.1),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2026-06-01', 1264000, 1158000, 1370000, 95, 'Prophet', 89.1),

-- Monte Carlo Model
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2026-01-01', 1215000, 1178000, 1252000, 95, 'Monte Carlo', 85.7),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2026-02-01', 1223000, 1169000, 1277000, 95, 'Monte Carlo', 85.7),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2026-03-01', 1232000, 1160000, 1304000, 95, 'Monte Carlo', 85.7),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2026-04-01', 1242000, 1151000, 1333000, 95, 'Monte Carlo', 85.7),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2026-05-01', 1253000, 1142000, 1364000, 95, 'Monte Carlo', 85.7),
('d4f7e485-b4e0-4d43-adac-8c7496f134d2', '2026-06-01', 1265000, 1133000, 1397000, 95, 'Monte Carlo', 85.7);

-- Verification
SELECT 'Revenue Metrics' as table_name, COUNT(*) as rows FROM public.tb_app_revenue_metrics
UNION ALL
SELECT 'Revenue by Segment', COUNT(*) FROM public.tb_app_revenue_by_segment
UNION ALL
SELECT 'Revenue Concentration', COUNT(*) FROM public.tb_app_revenue_concentration
UNION ALL
SELECT 'Revenue Forecast', COUNT(*) FROM public.tb_app_revenue_forecast;